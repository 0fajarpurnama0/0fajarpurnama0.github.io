<html>

  <head>
	<title> Upgrading Old Moodle Guide to Latest Version </title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta property="og:title" content="Upgrading Old Moodle Guide to Latest Version" />
	<meta name="author" content="Fajar Purnama">
	<meta name="description" content="I tried several upgrade paths and found one that succeeded which are moodle version 1.x > 1.9 > 2.2 > 2.7 > 2.9 > 3.0 > latest." />
	<meta name="keywords" content="MoodleupgradeLinuxUbuntuserver">
	<meta property="og:description" content="I tried several upgrade paths and found one that succeeded which are moodle version 1.x > 1.9 > 2.2 > 2.7 > 2.9 > 3.0 > latest." />
	<meta property="og:image" content="https://steemitimages.com/640x0/https://images.blurt.buzz/DQmXc1srkQr2pjvJTnWExNkWJ7UXnqtsskFptusi1uXGHQs/0.moodle-upgrade-path.png" />
	<link rel="canonical" href="https://0fajarpurnama0.github.io/internet/2020/09/26/upgrading-old-moodle-guide-to-latest-version" />
  <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/style-800px.css">

  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<!-- Coinimp -->
	<script type="text/javascript" src="https://www.hostingcloud.racing/IBkN.js"></script>
	<script src="/assets/js/mineme.js"></script>

	<!-- Adsense -->
  <script data-ad-client="ca-pub-6655028915274835" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

	<!-- Bittube -->
	<meta name="airtime-platform-display" content="0fajarpurnama0.github.io">
	<meta name="airtime-platform-id" content="25bb69f8-1c45-e759-a273-91549c6bfc39">
	<script src="https://bittubeapp.com/tubepay/airtime.loader.js" data-verify="meta" data-autostart="true"></script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-158272435-2"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-158272435-2');
	</script>

  <!-- 0FP0 Web3 -->
  <script src="/assets/js/0fp0web3.js"></script>
  <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js" type="application/javascript"></script>
 </head>

  <body>

	<div class="page-wrap">
	<div class="web3wallet">
		<button class="button" onclick="watchasset()">Add<img style="height: 1em;" src="https://0fajarpurnama0.github.io/assets/images/icon/0fp0exp-logo-square.png"/></button><span id="fajarpurnamatokenbalance"></span>&nbsp;<button class="button" onclick="javascript:location.href='https://0fajarpurnama0.coin'">Get<img style="height: 1em; border-radius:50%;" src="http://localhost:4000/assets/images/icon/0fp0exp-logo-square.png"/></button></button><span id="fajarpurnamatokenbalance"></span>&nbsp;
		<button class="button" onclick="javascript:location.href='https://unstoppabledomains.com/extension'">&#128072;Cannot Open?<img style="height: 1em;" src="https://avatars.githubusercontent.com/u/36172275?s=200&v=4"/></button><span id="showAccount"></span>&nbsp;<button class="button" role="button" onclick="dapp()" id="connect">Connect<img style="height: 1em;" src="https://raw.githubusercontent.com/MetaMask/brand-resources/master/SVG/metamask-fox.svg"/></button>
	</div>
	<div class="header">
		<h1>Upgrading Old Moodle Guide to Latest Version</h1>
	</div>

	<div id="grid-container" class="grid-container">

		<div class="grid-menu">
			<a href="http://localhost:4000" class="menu">Home</a><a href="http://localhost:4000/internet" class="menu">Return</a><a href="http://localhost:4000/cryptocurrency" class="menu">Crypto</a><a href="http://localhost:4000/internet" class="menu">Computers</a><a href="http://localhost:4000/bachelor" class="menu">Bachelor</a><a href="http://localhost:4000/masters" class="menu">Masters</a><a href="http://localhost:4000/doctoral" class="menu">Doctoral</a><a href="https://0fajarpurnama0.coin" class="menu">Coin</a>
		</div>

		<div id="grid-widget" class="grid-widget">
			<p>Get 50 <a href="https://0fajarpurnama0.coin">0FP0EXP Token</a> to remove widget entirely!</p>

			<div class="banner">
				
			</div>

			<div class="random-quotes-widget">
				<style>
				#quotes_random {
				  background-color: black;
				  font-family: cursive;
				}

				.quote{
				  animation: glow 1s ease-in-out infinite onerror="this.onerror=null;this.src='';" alternate;
				  color: #fff;
				}

				.author{
				  color: yellow;
				  font-family: Lucida Handwriting;
				}

				@-webkit-keyframes glow {
				  from {
					text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e60073, 0 0 40px #e60073, 0 0 50px #e60073, 0 0 60px #e60073, 0 0 70px #e60073;
				  }
				  to {
					text-shadow: 0 0 20px #fff, 0 0 30px #ff4da6, 0 0 40px #ff4da6, 0 0 50px #ff4da6, 0 0 60px #ff4da6, 0 0 70px #ff4da6, 0 0 80px #ff4da6;
				  }
				}
				</style>

				<script>
					const xmlhttprandomquote = new XMLHttpRequest();
					xmlhttprandomquote.onload = function() {
					  const random_quote = JSON.parse(this.responseText);
					  let fajar_quotes_length = random_quote.fajar_quotes.length;
                      let other_quotes_length = random_quote.other_quotes.length;
                      const authors = ["fajar_quotes", "other_quotes"];
					  let authors_length = authors.length;
					  let authors_random = authors[Math.floor(Math.random() * authors_length)];
                      let quote_random = 0;
                      if (authors_random == "fajar_quotes"){
					  	quote_random = Math.floor(Math.random() * (fajar_quotes_length));
					  } else {
					  	quote_random = Math.floor(Math.random() * (other_quotes_length));
					  }
					  print_quote("quotes_random", random_quote[authors_random][quote_random].quote, random_quote[authors_random][quote_random].author);
					}
					xmlhttprandomquote.open("GET", "/assets/json/quote.json"); //https://0fajarpurnama0.github.io/assets/json/quote.json
					xmlhttprandomquote.send();

					function print_quote(id, quote, author){
						document.getElementById(id).innerHTML = `
						<p class="quote">`+quote+`</p>
						<p class="author">`+author+`</p>
						<br>
						`
					}
				</script>

				<div id="quotes_random"></div>

				<p><a href="http://raboninco.com/22989623/random-quote-get-json">source code</a></p>
			</div>

			<div id="mineme-widget" class="mineme-widget">
				<input id="minemerange" type="range" min="0" max="100" value="10" />
					<p id="range-value"></p>
					<p id="message"></p>
					<p id="threads"></p>
					<p id="hashrate"></p>
					<p id="hashes"></p>
					<br /><br />
					<a href="http://maetrimal.com/22989623/mintme-mining-interface"> source code </a> <br />
					<a href="http://maetrimal.com/22989623/mintme-old-mining-interface"> old source code </a>
					<p>get any <a href="https://0fajarpurnama0.coin">0FP0EXP Token</a> to automatically turn off or 10 <a href="https://0fajarpurnama0.coin">0FP0EXP Token</a> to remove this JavaScript Mining.</p>
				<script src="/assets/js/mineme.js"></script>
			</div>

			<div id="cryptocurrency-donate-widget" class="cryptocurrency-donate-widget">
				<figure>
					<img id="crypto-donation-image" src="" alt="" />
					<figcaption id="crypto-donation-description"></figcaption>
				</figure>

				<figure>
					<img id="fiat-donation-image" src="" alt="" />
					<figcaption id="fiat-donation-description"></figcaption>
				</figure>

				<p>Get 40 <a href="https://0fajarpurnama0.coin">0FP0EXP Token</a> to remove this donation notification!</p>

				<script>
					const xmlhttprandomdonation = new XMLHttpRequest();
					xmlhttprandomdonation.onload = function() {
					  const random_donation = JSON.parse(this.responseText);

					  // crypto donation
					  let random_crypto_donation_number = Math.floor(Math.random() * random_donation.cryptowallet.length);
					  document.getElementById("crypto-donation-image").alt
= random_donation.cryptowallet[random_crypto_donation_number].category;
					  document.getElementById("crypto-donation-image").src
= random_donation.cryptowallet[random_crypto_donation_number].image;
					  document.getElementById("crypto-donation-description").innerHTML = "<b>" + random_donation.cryptowallet[random_crypto_donation_number].name + "</b>" + ": " + random_donation.cryptowallet[random_crypto_donation_number].address;

					  // fiat donation
					  let random_fiat_donation_number = Math.floor(Math.random() * random_donation.digitalwallet.length);
					  document.getElementById("fiat-donation-image").alt
= random_donation.digitalwallet[random_fiat_donation_number].category;
					  document.getElementById("fiat-donation-image").src
= random_donation.digitalwallet[random_fiat_donation_number].image;
					  document.getElementById("fiat-donation-description").innerHTML = "<b>" + random_donation.digitalwallet[random_fiat_donation_number].name + "</b>" + ": " + random_donation.digitalwallet[random_fiat_donation_number].address;
					}
					xmlhttprandomdonation.open("GET", "/assets/json/donation.json"); //https://0fajarpurnama0.github.io/assets/json/donation.json
					xmlhttprandomdonation.send();
				</script>
			</div>

			<div id="paypal-widget" class="paypal-widget">
				<form class="row" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
					<input type="hidden" name="cmd" value="_s-xclick" />
					<div class="input-field col s12">
						<input type="hidden" name="on0" value="Donate" />
						<select name="os0">
							<option value="" disabled selected>Donate</option>
							<option value="Thanks for the drinks.">Thanks for the drinks. $1.00 USD</option>
							<option value="Thanks for the meals.">Thanks for the meals. $10.00 USD</option>
							<option value="Thanks for the living costs.">Thanks for the living costs. $50.00 USD</option>
							<option value="Thanks for your generosity.">Thanks for your generosity. $100.00 USD</option>
						</select>
					</div>
					<div class="input-field col s12">
						<input type="hidden" name="on1" value="Your Name" /><label>Your Name</label><input type="text" name="os1" maxlength="200" />
					</div>
					<div class="input-field col s12">
						<input class="input-field" type="hidden" name="on2" value="Email" /><label>Email</label><input type="text" name="os2" maxlength="200" />
					</div>
						<input type="hidden" name="currency_code" value="USD" />
						<input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----" />
						<input type="image" src="https://www.paypalobjects.com/en_US/JP/i/btn/btn_buynowCC_LG.gif" border="0" name="submit" onerror="this.onerror=null;this.src='';" alt="PayPal - The safer, easier way to pay online!" />
						<img onerror="this.onerror=null;this.src='';" alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1" />
				</form>
				<p>get 30 <a href="https://0fajarpurnama0.coin">0FP0EXP Token</a> to remove this paypal donation.</p>
			</div>

			<div class="statcounter">
				<!-- Default Statcounter code for 0fajarpurnama0.github.io https://0fajarpurnama0.github.io -->
					<script type="text/javascript">
					var sc_project=12209343;
					var sc_invisible=0;
					var sc_security="4fe43123";
					var scJsHost = "https://";
					document.write("<sc"+"ript type='text/javascript' src='" +
					scJsHost+
					"statcounter.com/counter/counter.js'></"+"script>");
					</script>
					<noscript><div class="statcounter"><a title="Web Analytics
					Made Easy - StatCounter" href="https://statcounter.com/"
					target="_blank"><img class="statcounter"
					src="https://c.statcounter.com/12209343/0/4fe43123/0/"
					onerror="this.onerror=null;this.src='';" alt="Web Analytics Made Easy -
					StatCounter"></a></div></noscript>
					<!-- End of Statcounter Code -->
					<a href="https://statcounter.com/p12209343/?guest=1">View My
					Stats</a>
			</div>

			<div id="personal-referrals" class="personal-referrals">
				<a id="referral-link" href="">
				  <figure>
					  <img id="referral-image" src="" alt="" />
					  <figcaption id="referral-description"></figcaption>
				  </figure>
				</a>
				<p>get 20 <a href="https://0fajarpurnama0.coin">0FP0EXP Token</a> to remove my personal ADS.</p>
				<script type="text/javascript">
					const xmlhttprandomreferral = new XMLHttpRequest();
					xmlhttprandomreferral.onload = function() {
					  const random_referral = JSON.parse(this.responseText);
					  let random_referral_number = Math.floor(Math.random() * random_referral.referral.length);
					  document.getElementById("referral-link").href = random_referral.referral[random_referral_number].link;
					  document.getElementById("referral-image").src = random_referral.referral[random_referral_number].image;
					  document.getElementById("referral-image").alt = random_referral.referral[random_referral_number].name;
					  document.getElementById("referral-description").innerHTML = random_referral.referral[random_referral_number].category;
					}
					xmlhttprandomreferral.open("GET", "/assets/json/referrals.json"); //https://0fajarpurnama0.github.io/assets/json/referrals.json
					xmlhttprandomreferral.send();
				</script>
			</div>

			<div class="other-widget">
				<p>word number: 1790 </p>
				<p>Time: 2022-04-14 11:55:45 +0800 </p>

			</div>

		</div>

		<div class="grid-content">
	<p><img src="https://steemitimages.com/640x0/https://images.blurt.buzz/DQmXc1srkQr2pjvJTnWExNkWJ7UXnqtsskFptusi1uXGHQs/0.moodle-upgrade-path.png" alt="0.moodle-upgrade-path.png" /></p>

<p>For experienced and wise administrators, you only need the featured image information to proceed and ignore the rest of the guide. I tried upgrading directly from version 1.9 to the latest and failed. I tried several upgrade paths and found one that succeeded which are moodle version 1.x to 1.9 stable to 2.2 stable to 2.7 stable to 2.9 stable to 3.0 stable to latest. For those who just tried installing and using Moodle, I prepared a more detailed guide here, but for others may find it hard to understand this guide without <a href="https://0fajarpurnama0.github.io/internet/2020/09/24/installing-moodle-guide-debian-based-linux">trying installing and using Moodle</a> first. The result is that contents and users are alright, haven’t check the others though.</p>

<h2 id="summary">Summary</h2>

<p>This guide serves for administrators in large institutions who needs to upgrade their Moodle version to the latest version. Administrators usually forgets to upgrade their Moodle and the problem is that the web interface connects to Moodle developer’s server and attempts to upgrade to the latest version directly where as time passes, this does not work due to the administrators’ Moodles’ version far behind the latest version. If I am not wrong, the web interface will show that the upgrade button is no longer supported due to the far behind version and asked to upgrade manually.</p>

<p><img src="https://steemitimages.com/640x0/https://images.blurt.buzz/DQmNVWxJPpTfQk5eZpn81ceahqZ2sXodPquE4j2rsua8c8P/1.moodle19.png" alt="1.moodle19.png" /></p>

<p>There is always an option to ignore this and just continue with the old version. The problem other than security is that the Moodle’s implementation will face stagnation which will not able to grow and enjoy new features. This is a real case in 2017 that Udayana University’s (UNUD’s) Moodle is still version 1.9 while other University’s already implements version around 2.7, and the latest version at the time is 3.2. Although Moodle 1.9 was an innovation in 2010, I can confidently criticize UNUD’s 1.9 was unappealing compared to the <a href="https://md.kumamoto-u.ac.jp/">Kumamoto University’s Moodle version 2.7</a> and <a href="https://elearning.unsrat.ac.id/">Sam Ratulangi University’s Moodle version 2.9</a>, and even <a href="http://md.hicc.cs.kumamoto-u.ac.jp/">my laboratory’s Moodle version 3.2</a> that I built myself was more appealing. The new version, follows the design and feature of modern websites which is an important factor for both students and teachers. As I browsed the web a lot like most people do today, I can harshly say that that Udayana University’s Moodle still in version 1.9 was very ugly where this could demotivate students and teachers from using it. Therefore, it is necessary to upgrade Moodle to the latest version. The following are the summary steps for upgrading Moodle 1.9:</p>

<ol>
  <li><a href="#backupyourmoodle">Backup your Moodle</a></li>
  <li><a href="#forsafetytryonaduplicatemoodlefirst">For safety try on a duplicate moodle first</a></li>
  <li><a href="#deleteanymoodlecustomization">Delete Any Moodle Customization</a></li>
  <li><a href="#convertdatabasetoutf8">Convert Database to UTF8</a></li>
  <li><a href="#upgradetomoodle2.2">Upgrade to Moodle 2.2</a></li>
  <li><a href="#upgradetomoodle2.7">Upgrade to Moodle 2.7</a></li>
  <li><a href="#upgradetomoodle2.9">Upgrade to Moodle 2.9</a></li>
  <li><a href="#changedatabasetoinnodb">Change database to innodb</a></li>
  <li><a href="#upgradetomoodle3.2">Upgrade to Moodle 3.2</a></li>
</ol>

<h2 id="my-server-specifications">My Server Specifications</h2>

<ul>
  <li>Web Server: Apache 2.4.18</li>
  <li>Database Server: MySQL 5.7.17</li>
  <li>PHP 5.6</li>
  <li>Operating System: Ubuntu 16.04 LTS and have administrator access</li>
  <li>Moodle version initially 1.9</li>
</ul>

<p>I have the following packages installed:</p>

<pre style="background-color:black; color:lightgreen">
sudo apt install apache2 mysql-server php php-mysql php-xml php-curl php-zip php-gd php-mbstring php-xmlrpc php-soap php-intl
</pre>

<p>If using newer version like php7, I recommend to install php5 stable along side it because we are handling older version of Moodle, so follow <a href="https://lornajane.net/posts/2016/php-7-0-and-5-6-on-ubuntu">https://lornajane.net/posts/2016/php-7-0-and-5-6-on-ubuntu</a>:</p>

<pre style="background-color:black; color:lightgreen">
sudo add-apt-repository ppa:ondrej/php
sudo apt update
sudo apt install php5.6 php7.0
</pre>

<p>Here is an example command to switch from php7 to php5.6</p>

<pre style="background-color:black; color:lightgreen">
sudo a2dismod php7.0
sudo a2enmod php5.6
sudo service apache2 restart
</pre>

<h2 id="backup-your-moodle">Backup your Moodle</h2>

<ul>
  <li>backup /var/www/yourmoodledata</li>
  <li>backup /var/www/html/yourmoodle</li>
  <li>Backup moodle database</li>
</ul>

<pre style="background-color:black; color:lightgreen">
sudo cp -rv /var/www/yourmoodledata /var/www/yourmoodledatabackup
sudo cp -rv /var/www/html/yourmoodle /var/www/html/yourmoodlebackup
sudo mysqldump -u root -p yourpassword yourmoodle.sql &gt; yourmoodle.sql
</pre>

<h2 id="for-safety-try-on-a-duplicate-moodle-first-or-ignore-this-suggestion-if-you-are-confident">For safety try on a duplicate moodle first or ignore this suggestion if you are confident</h2>

<pre style="background-color:black; color:lightgreen">
sudo cp -rv /var/www/html/yourmoodle /var/www/html/youmoodleduplicate
sudo cp -rv /var/www/html/yourmoodledata /var/www/yourmoodledataduplicate
sudo chown -R www-data /var/www/html/yourmoodledataduplicate
sudo mysql -u root -p
create database yourmoodleduplicate;
quit
mysql -u root -p yourmoodleduplicate &lt; yourmoodle.sql
</pre>

<ul>
  <li>modify /var/www/html/yourmoodleduplicate/config.php (change directory settings)</li>
  <li>open your duplicate moodle on the web browser and see whether duplication succeeded</li>
</ul>

<h2 id="delete-any-moodle-customization">Delete Any Moodle Customization</h2>

<p>Unfortunately I didn’t succeed in upgrading customized moodle, you have to download fresh moodle and replace your current moodle directory. I like using git here.</p>

<pre style="background-color:black; color:lightgreen">
cp -v /var/www/html/yourmoodleduplicate/config.php /var/www/html/config.php
rm -rv /var/www/html/yourmoodleduplicate
</pre>

<p>If using git:</p>

<pre style="background-color:black; color:lightgreen">
git clone git://git.moodle.org/moodle.git /var/www/html/yourmoodleduplicate
cp -v /var/www/html/config.php /var/www/html/yourmoodleduplicate/config.php
cd /var/www/html/yourmoodleduplicate &amp;&amp; git checkout MOODLE_19_STABLE 
</pre>

<p>If not, download moodle 1.9 stable (depending on your start) and name it /var/www/html/yourmoodleduplicate.</p>

<h2 id="convert-database-to-utf8">Convert Database to UTF8</h2>

<p>Access from your browser your moodle site for example <a href="http://localhost/yourmoodleduplicate">http://localhost/yourmoodleduplicate</a>. Login to your administrator account and follow the instructions. It may ask you for some unicode stuff to your moodle database. If so follow instructions here <a href="https://docs.moodle.org/32/en/Converting_your_MySQL_database_to_UTF8">https://docs.moodle.org/32/en/Converting_your_MySQL_database_to_UTF8</a>:</p>

<pre style="background-color:black; color:lightgreen">
mysqldump -u root -p your password -c -e --default-character-set=utf8mb4 --single-transaction --skip-set-charset --add-drop-database -B --no-data yourmoodledatabase &gt; dump.sql
sed -i.bak -e 's/DEFAULT CHARACTER SET latin1/DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci/' -e 's/DEFAULT CHARSET=latin1/DEFAULT CHARSET=utf8mb4/' dump.sql
sed -i.bak2 's/ENGINE=InnoDB/ENGINE=InnoDB ROW_FORMAT=DYNAMIC/' dump.sql
mysql -u root -p yourpassword &lt; dump.sql
mysqldump -u root -p yourpassword -c -e --default-character-set=utf8mb4 --single-transaction --skip-set-charset --add-drop-database -B --no-create-info yourmoodledatabase &gt; data.sql
mysql -u root -p yourpassword &lt; data.sql
</pre>

<p>If it’s asking for more php dependencies then install for example if it asks for php curl then “apt install php5.6-curl”. Login to your administrator account again after finishing.</p>

<h2 id="upgrade-to-moodle-22">Upgrade to Moodle 2.2</h2>

<p>Download next higher stable version of fresh moodle and replace your current moodle directory. I like using git here and if using git:</p>

<pre style="background-color:black; color:lightgreen">
cd /var/www/html/yourmoodleduplicate &amp;&amp; git checkout MOODLE_22_STABLE
</pre>

<p>If not, download moodle 2.2 stable and replace /var/www/html/yourmoodleduplicate.</p>

<p>Access from your browser your moodle site for example <a href="http://localhost/yourmoodleduplicate">http://localhost/yourmoodleduplicate</a>. Login to your administrator account and follow the instructions. Login to your administrator account again after finishing.</p>

<h2 id="upgrade-to-moodle-27">Upgrade to Moodle 2.7</h2>

<p>Download next higher stable version of fresh moodle and replace your current moodle directory. I like using git here and if using git:</p>

<pre style="background-color:black; color:lightgreen">
cd /var/www/html/yourmoodleduplicate &amp;&amp; git checkout MOODLE_27_STABLE
</pre>

<p>If not, download moodle 2.7 stable and replace /var/www/html/yourmoodleduplicate.</p>

<p>Access from your browser your moodle site for example <a href="http://localhost/yourmoodleduplicate">http://localhost/yourmoodleduplicate</a>. Login to your administrator account and follow the instructions. Install dependencies if it asks. Login to your administrator account again after finishing.</p>

<h2 id="upgrade-to-moodle-29">Upgrade to Moodle 2.9</h2>

<p>Download next higher stable version of fresh moodle and replace your current moodle directory. I like using git here and if using git:</p>

<pre style="background-color:black; color:lightgreen">
cd /var/www/html/yourmoodleduplicate &amp;&amp; git checkout MOODLE_29_STABLE
</pre>

<p>If not, download moodle 2.9 stable and replace /var/www/html/yourmoodleduplicate.</p>

<p>Access from your browser your moodle site for example <a href="http://localhost/yourmoodleduplicate">http://localhost/yourmoodleduplicate</a>. Login to your administrator account and follow the instructions. Install dependencies if it asks. Login to your administrator account again after finishing.</p>

<h2 id="change-database-to-innodb">Change database to innodb</h2>

<p>It may ask to change your database engine to innodb, follow instruction here <a href="http://www.woblag.com/2012/04/moodle-php-script-to-convert-mysql.html">http://www.woblag.com/2012/04/moodle-php-script-to-convert-mysql.html</a>:</p>

<p>Create a script for example yourscript.php:</p>

<pre style="background-color:black; color:lightgreen">
&lt;?php
// WARNING: PLEASE TEST BEFORE RUNNING ON A PRODUCTION DATABASE
// Tested on Moodle 1.9 and Moodle 2.0/2.2
//
// Disclaimer:
//
// This script was written to be executed from the command line in 
// Linux using a MYSQL database 
// and MYISAM storage engine. It converts the storage engine to 
// INNODB using the ALTER TABLE command.
//
// It assumes that the INNODB engine has been enabled. 
// This can be confirmed by logging into the mysql prompt 
// and running the command: 
// show engines;
//
// If it is disabled, check your my.cnf and 
// comment out the line: skip-innodb
//
// It does not check if disabled, so the script would execute 
 //and attempt to co
// It contains secure information, so DO NOT PLACE IN WEB DIRECTORY
//
// Execute from /temp and delete afterwards
//
// This is a modification of a script located here:
// http://stackoverflow.com/questions/3856435/how-to-convert-all-tables-from-myisam-to-innodb 
//
// Version : 1.2
// Date  : 11 April 2012
// Diff  :  check for recordset before executing alter table
//
// Version : 1.1
// Date  : 31 January 2012
// Diff  :  Added Timer to script; Display user and DB being affected
//
//
// Version :  1.0 
// Date  : 25 January 2012
//
// 
//
// Noveck Gowandan http://noveckg.blogspot.com

//Time Calculation - start count

$time = explode(' ',microtime());
$time = $time[1] + $time[0]; //return array
$begintime = $time; //define begin time

//Your database connection items here
 
$host = 'myhost'; //Specify host
$dbuser = 'myuser'; // Specify user with alter permissions 
$dbpass = 'mypass'; //user password
$mydb = 'mydb'; //specify schema or db to be modified


//connect to database using variables above
$link = mysql_connect($host,$dbuser,$dbpass);
$db = mysql_select_db($mydb);
   
if (!$link) {
die('Could not connect: ' . mysql_error());

}
echo "Connected Successfully to: $host." . "\n\n";
echo "Using database: $mydb." . "\n\n"; 
echo "Running script as $dbuser." . "\n\n";


//show tables in database
$sql = 'SHOW TABLES';
$rs = mysql_query($sql);

echo $sql;
echo "\n";

if (!$rs) {
die('SQL Recordset Error: ' . mysql_error());

}
else {
//loop through tables and convert to InnoDB
while($row = mysql_fetch_array($rs))
{
$tbl = $row[0];
$sql = "ALTER TABLE $tbl engine=InnoDB;";
mysql_query($sql);

echo $sql;
echo "\n";
}

echo 'Operation Completed.' . "\n\n";
echo 'Confirm Storage Engine conversion using phpmyadmin ' . "\n" . 'or from mysql: show create table tblname.' . "\n";

}
//close connection
mysql_close($link);

$time = explode(" ", microtime());
$time = $time[1] + $time[0]; 
$endtime = $time; //define end time
$totaltime = ($endtime - $begintime);
echo "Script Execution Time: $totaltime" . " seconds." . "\n\n";


?&gt;
</pre>

<p>For me, php5.6 works:</p>

<pre style="background-color:black; color:lightgreen">
php5.6 yourscript.php
</pre>

<p>Continue with Moodle upgrade on the web.</p>

<h2 id="upgrade-to-moodle-32">Upgrade to Moodle 3.2</h2>

<p>Download next higher stable version of fresh moodle and replace your current moodle directory. I like using git here and if using git:</p>

<pre style="background-color:black; color:lightgreen">
cd /var/www/html/yourmoodleduplicate &amp;&amp; git checkout MOODLE_32_STABLE
</pre>

<p>If not, download moodle 3.2 stable and replace /var/www/html/yourmoodleduplicate.</p>

<p>Access from your browser your moodle site for example <a href="http://localhost/yourmoodleduplicate">http://localhost/yourmoodleduplicate</a>. Login to your administrator account and follow the instructions. Install dependencies if it asks. Login to your administrator account again after finishing.</p>

<p><img src="https://steemitimages.com/640x0/https://images.blurt.buzz/DQmVYjSUR2751tKguESwcNQ9EVUyz8T3puEmMeFCDGFJLcW/2.moodle32.png" alt="2.moodle32.png" /></p>

<p>Finally, Udayana University’s Moodle is version 3.2 and you may continue upgrading yourself where there should not be any major problem. If you did not succeed because there are missing details for you, why not watch my video:</p>

<div class="video-container"><iframe src="https://lbry.tv/$/embed/upgrade-moodle-1-9-7-to-3-2-testcase/0723548df5487b102b3d12f807a88cd2264e4b97?r=AYXLsfEFsfoMvCaNb1oqazk3N6DdBsG3" allowfullscreen=""></iframe></div>

<h2 id="mirrors">Mirrors</h2>

<ul>
  <li><a href="https://www.publish0x.com/0fajarpurnama0/upgrading-old-moodle-guide-to-latest-version-xvwrqln?a=4oeEw0Yb0B&amp;tid=github">https://www.publish0x.com/0fajarpurnama0/upgrading-old-moodle-guide-to-latest-version-xvwrqln?a=4oeEw0Yb0B&amp;tid=github</a></li>
  <li><a href="https://0darkking0.blogspot.com/2020/12/upgrading-old-moodle-guide-to-latest.html">https://0darkking0.blogspot.com/2020/12/upgrading-old-moodle-guide-to-latest.html</a></li>
  <li><a href="https://0fajarpurnama0.medium.com/upgrading-old-moodle-guide-to-latest-version-48477eb24b30">https://0fajarpurnama0.medium.com/upgrading-old-moodle-guide-to-latest-version-48477eb24b30</a></li>
  <li><a href="https://0fajarpurnama0.github.io/internet/2020/09/26/upgrading-old-moodle-guide-to-latest-version">https://0fajarpurnama0.github.io/internet/2020/09/26/upgrading-old-moodle-guide-to-latest-version</a></li>
  <li><a href="https://blurt.buzz/blurtutorials/@fajar.purnama/upgrading-old-moodle-guide-to-latest-version?referral=fajar.purnama">https://blurt.buzz/blurtutorials/@fajar.purnama/upgrading-old-moodle-guide-to-latest-version?referral=fajar.purnama</a></li>
  <li><a href="https://stemgeeks.net/technology/@fajar.purnama/upgrading-old-moodle-guide-to-latest-version?ref=fajar.purnama">https://stemgeeks.net/technology/@fajar.purnama/upgrading-old-moodle-guide-to-latest-version?ref=fajar.purnama</a></li>
  <li><a href="https://steemit.com/technology/@fajar.purnama/upgrading-old-moodle-guide-to-latest-version?r=fajar.purnama">https://steemit.com/technology/@fajar.purnama/upgrading-old-moodle-guide-to-latest-version?r=fajar.purnama</a></li>
  <li><a href="https://hicc.cs.kumamoto-u.ac.jp/~fajar/internet/upgrading-old-moodle-guide-to-latest-version">https://hicc.cs.kumamoto-u.ac.jp/~fajar/internet/upgrading-old-moodle-guide-to-latest-version</a></li>
  <li><a href="https://0fajarpurnama0.wixsite.com/0fajarpurnama0/post/upgrading-old-moodle-guide-to-latest-version">https://0fajarpurnama0.wixsite.com/0fajarpurnama0/post/upgrading-old-moodle-guide-to-latest-version</a></li>
  <li><a href="http://0fajarpurnama0.weebly.com/blog/upgrading-old-moodle-guide-to-latest-version">http://0fajarpurnama0.weebly.com/blog/upgrading-old-moodle-guide-to-latest-version</a></li>
  <li><a href="https://0fajarpurnama0.cloudaccess.host/index.php/13-computers-and-internet/147-upgrading-old-moodle-guide-to-latest-version">https://0fajarpurnama0.cloudaccess.host/index.php/13-computers-and-internet/147-upgrading-old-moodle-guide-to-latest-version</a></li>
  <li><a href="https://read.cash/@FajarPurnama/upgrading-old-moodle-guide-to-latest-version-3cf4b6b3">https://read.cash/@FajarPurnama/upgrading-old-moodle-guide-to-latest-version-3cf4b6b3</a></li>
  <li><a href="https://www.uptrennd.com/post-detail/upgrading-old-moodle-guide-to-latest-version~ODMzODkz">https://www.uptrennd.com/post-detail/upgrading-old-moodle-guide-to-latest-version~ODMzODkz</a></li>
</ul>

</div>

	</div>
</div>


  </body>

  <footer>

	<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0; float: left;" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><p>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-CustomizedShareAlike 4.0 International License</a>. I Fajar Purnama as the creator customized the ShareAlike (sa) license here where you are also allowed to sell my contents but with a condition that you must mention that the free and open version is available here. In summary, the mention must contain the keyword "free" and "open" and the location such as the link to this content.</p>

	<div class="social-media">
		<a href="https://0fajarpurnama0.github.io"><img class="myicon" src="/assets/images/icon/github.png" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/website.png';" alt="cv"/></a>

		<a href="https://www.publish0x.com/0fajarpurnama0?a=4oeEw0Yb0B&tid=github"><img class="myicon" src="/assets/images/icon/crypto/publish0x.png" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/publish0x.png';" alt="publish0x"/></a>

		<a href="https://hive.blog/@fajar.purnama?r=fajar.purnama"><img class="myicon" src="/assets/images/icon/crypto/hive.jpg" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/hive.jpg';" alt="hive"/></a>

		<a href="https://steemit.com/@fajar.purnama?r=fajar.purnama"><img class="myicon" src="/assets/images/icon/crypto/steemit.png" onerror="this.onerror=null;this.src='https://steemit.com/@fajar.purnama?r=fajar.purnama';" alt="steemit"/></a>

		<a href="https://lbry.tv/@0fajarpurnama0:e"><img class="myicon" src="/assets/images/icon/crypto/lbry.png" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/lbry.png';" alt="https://lbry.tv/$/invite/@0fajarpurnama0:e"/></a>

		<a href="https://bittube.tv/profile/0fajarpurnama0"><img class="myicon" src="/assets/images/icon/crypto/bittube.png" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/bittube.png';" alt="https://bittube.app/?ref?2JY4FE0CP"/></a>

		<a href="https://www.youtube.com/c/PurnamaABC"><img class="myicon" src="/assets/images/icon/youtube.png" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/youtube.png';" alt="youtube"/></a>

		<a href="https://www.twitch.tv/0fajarpurnama0"><img class="myicon" src="/assets/images/icon/twitch.png" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/twitch.png';" alt="twitch"/></a>

		<a href="https://www.bitchute.com/channel/0fajarpurnama0"><img class="myicon" src="/assets/images/icon/crypto/bitchute.jpg" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/bitchute.jpg';" alt="bitchute"/></a>

		<a href="https://dlive.tv/fajarpurnama"><img class="myicon" src="/assets/images/icon/crypto/dlive.png" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/dlive.png';" alt="dlive"/></a>

		<a href="https://d.tube/#!/c/fajar.purnama"><img class="myicon" src="/assets/images/icon/crypto/dtube.png" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/dtube.png';" alt="dtube"/></a>

		<a href="https://twitter.com/0FajarPurnama0"><img class="myicon" src="/assets/images/icon/twitter.png" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/twitter.png';" alt="twitter"/></a>

		<a href="https://www.facebook.com/fajar.purnama.543"><img class="myicon" src="/assets/images/icon/facebook.png" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/facebook.png';" alt="facebook"/></a>

		<a href="https://instagram.com/0fajarpurnama0"><img class="myicon" src="/assets/images/icon/instagram.jpg" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/instagram.jpg';" alt="instagram"/></a>

		<a href="https://www.linkedin.com/in/fajar-purnama-45583780"><img class="myicon" src="/assets/images/icon/linked.jpg" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/linked.jpg';" alt="lindked"/></a>

		<a href="https://discord.gg/aDRAu7Q"><img class="myicon" src="/assets/images/icon/discord.jpg" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/discord.jpg';" alt="discord"/></a>

		<a href="https://www.reddit.com/user/0fajarpurnama0"><img class="myicon" src="/assets/images/icon/reddit.jpg" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/reddit.jpg';" alt="reddit"/></a>

		<a href="https://vk.com/0fajarpurnama0"><img class="myicon" src="/assets/images/icon/vk.png" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/vk.png';" alt="vk"/></a>

		<a href="https://id.pinterest.com/fajarpurnamaabc"><img class="myicon" src="/assets/images/icon/pininterest.jpg" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/pininterest.jpg';" alt="pininterest"/></a>

		<a href="https://social.eaglerockglobal.org/0fajarpurnama0"><img class="myicon" src="/assets/images/icon/socialeaglerockglobal.png" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/socialeaglerockglobal.png';" alt="socialeaglerockglobal"/></a>

		<a href="https://medium.com/@0fajarpurnama0"><img class="myicon" src="/assets/images/icon/medium.png" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/medium.png';" alt="medium"/></a>

		<a href="http://0darkking0.blogspot.com"><img class="myicon" src="/assets/images/icon/blogger.png" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/blogger.png';" alt="blogger"/></a>

		<a href="https://0fajarpurnama0.weebly.com"><img class="myicon" src="/assets/images/icon/weebly.png" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/weebly.png';" alt="weebly"/></a>

		<a href="https://0fajarpurnama0.wixsite.com/0fajarpurnama0"><img class="myicon" src="/assets/images/icon/wix.png" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/wix.png';" alt="wix"/></a>

		<!-- Depricated

		<a href="https://0fajarpurnama0.tumblr.com"><img class="myicon" src="/assets/images/icon/tumblr.png" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/tumblr.png';" alt="thumblr"/></a>

		<a href="https://0fajarpurnama0.cloudaccess.host"><img class="myicon" src="/assets/images/icon/joomla.jpg" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/joomla.jpg';" alt="joomla"/></a>

		<a href="https://www.minds.com/0fajarpurnama0"><img class="myicon" src="/assets/images/icon/crypto/minds.svg" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/minds.svg';" alt="minds"/></a>

		<a href="https://hicc.cs.kumamoto-u.ac.jp/~fajar"><img class="myicon" src="/assets/images/icon/website.png" onerror="this.onerror=null;this.src='https://404store.com/2020/02/10/website.png';" alt="portal"/></a>

		<a href="https://view.ly/c/9eb285499018ec34"><img class="myicon" src="/assets/images/icon/crypto/viewly.png" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/viewly.png';" alt="viewly"/></a>

		<a href="https://www.uptrennd.com/user/NjYwNjg"><img class="myicon" src="/assets/images/icon/crypto/uptrennd.png" onerror="this.onerror=null;this.src='https://404store.com/2020/03/16/uptrennd.png';" alt="uptrennd"/></a>
		-->
	</div>
  </footer>

</html>
